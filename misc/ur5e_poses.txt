['shoulder_pan_joint', 'shoulder_lift_joint','elbow_joint' , 'wrist_1_joint', 'wrist_2_joint', 'wrist_3_joint']

self.test_joints.position [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
Tee_pose: position: 
  x: 0.8172000000009753
  y: 0.0812
  z: 0.06290000000400123
orientation: 
  x: 0.7071067811848164
  y: 0.7071067811882786
  z: 3.4622108806351164e-12
  w: 3.4622108806520683e-12
Tee_htm: [[-4.89630558e-12  1.00000000e+00  9.79261117e-12  8.17200000e-01]
 [ 1.00000000e+00  4.89630558e-12  0.00000000e+00  8.12000000e-02]
 [-4.79473950e-23  9.79261117e-12 -1.00000000e+00  6.29000000e-02]
 [ 0.00000000e+00  0.00000000e+00  0.00000000e+00  1.00000000e+00]]


self.test_joints.position [1.57, 0.0, 0.0, 0.0, 0.0, 0.0]
Tee_pose: position: 
  x: -0.08054921606605298
  y: 0.8172644026217822
  z: 0.06290000000400123
orientation: 
  x: 0.00039816338447967725
  y: 0.9999999207329566
  z: 4.896372584716816e-12
  w: 1.923363273874697e-15
Tee_htm: [[-9.99999683e-01  7.96326706e-04  7.74583880e-15 -8.05492161e-02]
 [ 7.96326706e-04  9.99999683e-01  9.79274286e-12  8.17264403e-01]
 [ 5.23863172e-17  9.79274592e-12 -1.00000000e+00  6.29000000e-02]
 [ 0.00000000e+00  0.00000000e+00  0.00000000e+00  1.00000000e+00]]


self.test_joints.position [1.57, 0.0, 1.57, 0.0, 0.0, 0.0]
Tee_pose: position: 
  x: -0.08054921606605298
  y: 0.8172644026217822
  z: 0.06290000000400123
orientation: 
  x: 0.00039816338447967725
  y: 0.9999999207329566
  z: 4.896372584716816e-12
  w: 1.923363273874697e-15
Tee_htm: [[-9.99999683e-01  7.96326706e-04  7.74583880e-15 -8.05492161e-02]
 [ 7.96326706e-04  9.99999683e-01  9.79274286e-12  8.17264403e-01]
 [ 5.23863172e-17  9.79274592e-12 -1.00000000e+00  6.29000000e-02]
 [ 0.00000000e+00  0.00000000e+00  0.00000000e+00  1.00000000e+00]]

###### HOME #####
self.test_joints.position [0.0, -1.57, 1.57, 0.0, 0.0, 0.0]
Tee_pose: position: 
  x: 0.3925384388509559
  y: 0.08120000000000004
  z: 0.48789986524795176
orientation: 
  x: 0.7071067811848164
  y: 0.7071067811882785
  z: 3.4621601412961103e-12
  w: 3.462104610745206e-12
Tee_htm: [[-4.89608354e-12  1.00000000e+00  9.79238912e-12  3.92538439e-01]
 [ 1.00000000e+00  4.89652763e-12  7.85320822e-17  8.12000000e-02]
 [ 7.85320342e-17  9.79238912e-12 -1.00000000e+00  4.87899865e-01]
 [ 0.00000000e+00  0.00000000e+00  0.00000000e+00  1.00000000e+00]]

self.test_joints.position [0.0, -1.57, 1.57, 0.0, 0.0, 0.0]
Twrist_pose: position: 
  x: 0.0003384388499806784
  y: -0.04880000000000001
  z: 0.5874998652460314
orientation: 
  x: 3.3880774682499774e-18
  y: 0.7071067811848165
  z: 5.214249038651935e-17
  w: 0.7071067811882785
Tee_pose: position: 
  x: 0.3925384388509559
  y: 0.08120000000000004
  z: 0.48789986524795176
orientation: 
  x: 0.7071067811848164
  y: 0.7071067811882785
  z: 3.4621601412961103e-12
  w: 3.462104610745206e-12
Tee_htm: [[-4.89608354e-12  1.00000000e+00  9.79238912e-12  3.92538439e-01]
 [ 1.00000000e+00  4.89652763e-12  7.85320822e-17  8.12000000e-02]
 [ 7.85320342e-17  9.79238912e-12 -1.00000000e+00  4.87899865e-01]
 [ 0.00000000e+00  0.00000000e+00  0.00000000e+00  1.00000000e+00]]


self.test_joints.position [0.0, -1.9, 1.3, 0.0, 0.0, 0.0]
Tee_pose: position: 
  x: 0.24253695259848385
  y: 0.08119999999999984
  z: 0.7039268880891429
orientation: 
  x: 0.6755249097729875
  y: 0.675524909776295
  z: 0.20896434211067938
  w: 0.20896434211170237
Tee_htm: [[-4.04104528e-12  8.25335615e-01  5.64642473e-01  2.42536953e-01]
 [ 1.00000000e+00  4.89602803e-12  1.66533454e-16  8.12000000e-02]
 [-2.76439982e-12  5.64642473e-01 -8.25335615e-01  7.03926888e-01]
 [ 0.00000000e+00  0.00000000e+00  0.00000000e+00  1.00000000e+00]]


self.test_joints.position [0.0, -1.9, 1.3, 0.0, 2.1, 0.0]
Tee_pose: position: 
  x: 0.24253695259848385
  y: 0.08119999999999984
  z: 0.7039268880891429
orientation: 
  x: 0.6755249097729875
  y: 0.675524909776295
  z: 0.20896434211067938
  w: 0.20896434211170237
Tee_htm: [[-4.04104528e-12  8.25335615e-01  5.64642473e-01  2.42536953e-01]
 [ 1.00000000e+00  4.89602803e-12  1.66533454e-16  8.12000000e-02]
 [-2.76439982e-12  5.64642473e-01 -8.25335615e-01  7.03926888e-01]
 [ 0.00000000e+00  0.00000000e+00  0.00000000e+00  1.00000000e+00]]


self.test_joints.position [0.0, -1.9, 1.3, 0.5, 2.1, 0.0]
Tee_pose: position: 
  x: 0.19624197054652792
  y: 0.08119999999999987
  z: 0.6870279004720022
orientation: 
  x: 0.9639904625115133
  y: -0.26119814475865405
  z: 0.04823972960653379
  w: -0.013070801389526683
Tee_htm: [[ 8.58896915e-01 -5.02323977e-01  9.98334167e-02  1.96241971e-01]
 [-5.04846105e-01 -8.63209367e-01  4.37150316e-16  8.12000000e-02]
 [ 8.61771404e-02 -5.04005115e-02 -9.95004165e-01  6.87027900e-01]
 [ 0.00000000e+00  0.00000000e+00  0.00000000e+00  1.00000000e+00]]


self.test_joints.position [1.0, -1.9, 1.3, 0.5, 2.1, 0.0]
Tee_pose: position: 
  x: 0.037702545227995335
  y: 0.20900447145292186
  z: 0.6870279004720021
orientation: 
  x: 0.9712062809620753
  y: 0.23293870966058508
  z: 0.036067869496838476
  w: -0.03459806571811461
Tee_htm: [[ 0.88887733  0.45495883  0.05394023  0.03770255]
 [ 0.44996732 -0.88908506  0.08400692  0.20900447]
 [ 0.08617714 -0.05040051 -0.99500417  0.6870279 ]
 [ 0.          0.          0.          1.        ]]


self.test_joints.position [1.57, -1.9, 1.3, 0.5, 2.1, 0.0]
Tee_pose: position: 
  x: -0.08104370153115159
  y: 0.19630657005335783
  z: 0.6870279004720021
orientation: 
  x: 0.866536970743129
  y: 0.4966042297180377
  z: 0.0248854472721152
  w: -0.04334318718717759
Tee_htm: [[ 5.05529907e-01  8.62809079e-01  7.95000163e-05 -8.10437015e-02]
 [ 8.58494621e-01 -5.03011214e-01  9.98333850e-02  1.96306570e-01]
 [ 8.61771404e-02 -5.04005115e-02 -9.95004165e-01  6.87027900e-01]
 [ 0.00000000e+00  0.00000000e+00  0.00000000e+00  1.00000000e+00]]

self.test_joints.position [1.57, -1.9, 1.3, 0.5, 2.1, 0.0]
Twrist_pose: position: 
  x: 0.048690570777179254
  y: -0.13743688309788932
  z: 0.5646775372664783
orientation: 
  x: -0.32977675773687104
  y: 0.33003947242264625
  z: 0.6251792756491453
  w: 0.6256773209877022
Tee_pose: position: 
  x: -0.08104370153115159
  y: 0.19630657005335783
  z: 0.6870279004720021
orientation: 
  x: 0.866536970743129
  y: 0.4966042297180377
  z: 0.0248854472721152
  w: -0.04334318718717759
Tee_htm: [[ 5.05529907e-01  8.62809079e-01  7.95000163e-05 -8.10437015e-02]
 [ 8.58494621e-01 -5.03011214e-01  9.98333850e-02  1.96306570e-01]
 [ 8.61771404e-02 -5.04005115e-02 -9.95004165e-01  6.87027900e-01]
 [ 0.00000000e+00  0.00000000e+00  0.00000000e+00  1.00000000e+00]]



def fix_base(self, tee):
    '''
    m3: position: 
        x: 0.15280000000000002
        y: 0.0
        z: 0.0
        orientation: 
        x: 0.5
        y: 0.5
        z: -0.5
        w: -0.5
    '''
    fix_pose = Pose(Point(0.153, 0.0, 0.0), Quaternion(0.5, 0.5, -0.5, -0.5))
    fix_htm = DHmatrices.pose_to_htm(fix_pose)
    return np.matmul(np.asarray(tee), fix_htm)


    """
    The transformation from wrist_3_link to tool 0 is fixed
        - Translation: [0.000, 0.082, 0.000]
        - Rotation: in Quaternion [-0.707, 0.000, 0.000, 0.707]	
    """
    # fix_pose = Pose(Point(0.000, 0.000, 0.000), Quaternion(0.000, 0.000, 0.707, 0.707))
    # fix_htm = DHmatrices.pose_to_htm(fix_pose)
    # tee_corrected = np.matmul(np.asarray(self.Tee_current), fix_htm)
    # print tee_corrected

    m1 = np.array([[0.0, 1.0, 0.0, 0.817], [1.0, 0.0, 0.0, 0.0812], [0.0, 0.0, -1.0, 0.0629], [0.0, 0.0, 0.0, 1.0]])
    m2 = np.array([[1.0, 0.0, 0.0, 0.817], [0.0, 0.0, -1.0, 0.234], [0.0, 1.0, 0.0, 0.0629], [0.0, 0.0, 0.0, 1.0]])

    m3 = np.matmul(np.linalg.inv(m1), m2)
    m3_pose = DHmatrices.htm_to_pose(m3)
    print "m3:", m3_pose

    sys.exit()